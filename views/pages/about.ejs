<!DOCTYPE html>
<html lang="en">
  <head>
    <title>NodeJS Example</title>
    <meta charset="utf-8">
    <meta name="description"  content="This is the about page">
    <meta name="author"       content="Tundra Fizz">
    <link rel="shortcut icon" href="/img/icon.jpg">
    <link rel="stylesheet"    href="/css/theme.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
  </head>

  <body>
    <div class="content">
      <form id="target">
        <table>
          <tr>
            <td>First Name</td>
            <td><input type="text" name="firstName"></td>
          </tr>
          <tr>
            <td>Last Name</td>
            <td><input type="text" name="lastName"></td>
          </tr>
          <tr>
            <td>Age</td>
            <td><input type="text" name="age"></td>
          </tr>
          <tr>
            <td colspan="2">
              <button type="button" onclick="SubmitForm();" >Submit</button>
            </td>
          </tr>
        </table>
      </form>

      <table id="results" border="1">

      </table>
    </div>
  </body>
</html>

<script>
$(document).ready(function() {
  var people = <%- JSON.stringify(people) %>;
  BuildTable(people);
});

function SubmitForm(event) {
  var data = {name: "Adam", age: "10"};
  $.post("customers", data, function(data) {
    BuildTable(data);
  }, "json");
}

function BuildTable(data) {
  var h = "<tr><th>First Name</th><th>Last Name</th><th>Age</th></tr>";
  $(data).each(function(i) {
    h += "<tr><td>" + this.firstName + "</td><td>" + this.lastName + "</td><td>" + this.age + "</td></tr>";
  });
  $("#results").html(h);
}
</script>
